{"ast":null,"code":"import _asyncToGenerator from \"C:/SSAFY/workspace/vuejs/happyhouse_final/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/SSAFY/workspace/vuejs/happyhouse_final/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport HouseList from \"@/components/house/HouseList.vue\"; //import HouseDetail from \"@/components/house/HouseDetail.vue\";\n\nexport default {\n  name: \"HouseSearchBar\",\n  components: {\n    HouseList: HouseList // HouseDetail,\n\n  },\n  data: function data() {\n    return {\n      sidoCode: null,\n      gugunCode: null,\n      dongCode: null,\n      markers: [],\n      map: null,\n      ps: null,\n      infowindow: null,\n      customOverlay: null,\n      geocoder: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (window.kakao && window.kakao.maps) {\n      this.initMap();\n    } else {\n      var script = document.createElement(\"script\");\n      /* global kakao */\n\n      script.onload = function () {\n        return kakao.maps.load(_this.initMap);\n      };\n\n      script.src = \"http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=034dcc5ce4d542a740e6d5514a14db3e&libraries=services\";\n      document.head.appendChild(script);\n    }\n  },\n  computed: _objectSpread({}, mapState([\"sidos\", \"guguns\", \"houses\", \"dongs\"])),\n  created: function created() {\n    // this.$store.dispatch(\"getSido\");\n    // this.sidoList();\n    this.CLEAR_SIDO_LIST();\n    this.getSido();\n  },\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapActions([\"getSido\", \"getGugun\", \"getDong\", \"getHouseList\"])), mapMutations([\"CLEAR_SIDO_LIST\", \"CLEAR_GUGUN_LIST\", \"CLEAR_DONG_LIST\"])), {}, {\n    // sidoList() {\n    //   this.getSido();\n    // },\n    gugunList: function gugunList() {\n      console.log(this.sidoCode);\n      this.CLEAR_GUGUN_LIST();\n      this.gugunCode = null;\n      if (this.sidoCode) this.getGugun(this.sidoCode);\n    },\n    dongList: function dongList() {\n      console.log(this.gugunCode, \"??\");\n      this.CLEAR_DONG_LIST();\n      console.log(this.gugunCode, \"??\");\n      this.dongCode = null;\n\n      if (this.gugunCode) {\n        this.getDong(this.gugunCode);\n      }\n    },\n    searchApt: function searchApt() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this2.dongCode) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return _this2.getHouseList(_this2.dongCode);\n\n              case 3:\n                console.log(\"왜늦지\");\n\n                _this2.displayMarkers(_this2.$store.getters.getAptList);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    initMap: function initMap() {\n      // 마커를 담을 배열입니다\n      //var markers = [];\n      var mapContainer = document.getElementById(\"map\"); // 지도를 표시할 div\n\n      var mapOption = {\n        center: new kakao.maps.LatLng(37.566826, 126.9786567),\n        // 지도의 중심좌표\n        level: 3 // 지도의 확대 레벨\n\n      }; // 지도를 생성합니다\n\n      this.map = new kakao.maps.Map(mapContainer, mapOption); // 장소 검색 객체를 생성합니다\n\n      this.ps = new kakao.maps.services.Places(); // 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성합니다\n\n      this.infowindow = new kakao.maps.InfoWindow({\n        zIndex: 1\n      }); // 커스텀 오버레이를 생성합니다\n\n      this.customOverlay; //주소-좌표 변환 객체를 생성합니다\n\n      this.geocoder = new kakao.maps.services.Geocoder();\n    },\n    displayMarkers: function displayMarkers(places) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var fragment, bounds, listStr, self, i, placePosition, marker, itemEl;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                fragment = document.createDocumentFragment();\n                bounds = new kakao.maps.LatLngBounds();\n                listStr = \"\"; //console.log(places.length);\n                // 지도에 표시되고 있는 마커를 제거합니다\n\n                _this3.removeMarker();\n\n                self = _this3;\n\n                for (i = 0; i < places.length; i++) {\n                  placePosition = new kakao.maps.LatLng(places[i].lat, places[i].lng);\n                  marker = _this3.addMarker(placePosition, i);\n                  itemEl = _this3.getListItem(i, places[i]); // 검색 결과 항목 Element를 생성합니다\n                  //console.log(i);\n                  // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n                  // LatLngBounds 객체에 좌표를 추가합니다\n\n                  bounds.extend(placePosition); // 마커와 검색결과 항목에 mouseover 했을때\n                  // 해당 장소에 인포윈도우에 장소명을 표시합니다\n                  // mouseout 했을 때는 인포윈도우를 닫습니다\n\n                  (function (marker, title, code, place, map) {\n                    kakao.maps.event.addListener(marker, \"click\", function () {\n                      self.displayInfowindow(marker, title, place);\n                    });\n                    kakao.maps.event.addListener(map, \"click\", function () {\n                      console.log(self.customOverlay);\n                      self.customOverlay.setMap(null);\n                    });\n\n                    itemEl.onmouseover = function () {\n                      self.displayInfowindow(marker, title);\n                    };\n\n                    itemEl.onmouseout = function () {\n                      self.customOverlay.setMap(null);\n                    };\n                  })(marker, places[i].shopName, places[i].shopKind, places[i], _this3.map);\n\n                  fragment.appendChild(itemEl);\n                } // 마커를 생성하고 지도에 표시합니다\n                // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n\n\n                _this3.map.setBounds(bounds);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    addMarker: function addMarker(position, idx, title) {\n      var imageSrc = \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png\",\n          // 마커 이미지 url, 스프라이트 이미지를 씁니다\n      imageSize = new kakao.maps.Size(36, 37),\n          // 마커 이미지의 크기\n      imgOptions = {\n        spriteSize: new kakao.maps.Size(36, 691),\n        // 스프라이트 이미지의 크기\n        spriteOrigin: new kakao.maps.Point(0, idx * 46 + 10),\n        // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n        offset: new kakao.maps.Point(13, 37) // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n\n      },\n          markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n          marker = new kakao.maps.Marker({\n        position: position,\n        // 마커의 위치\n        image: markerImage\n      });\n      marker.setMap(this.map); // 지도 위에 마커를 표출합니다\n\n      this.markers.push(marker); // 배열에 생성된 마커를 추가합니다\n\n      return marker;\n    },\n    removeMarker: function removeMarker() {\n      for (var i = 0; i < this.markers.length; i++) {\n        this.markers[i].setMap(null);\n      }\n\n      this.markers = [];\n    },\n    getListItem: function getListItem(index, place) {\n      var el = document.createElement(\"li\");\n      var itemStr = \"\\n\\t\\t<span class=\\\"markerbg marker_\".concat(index + 1, \"></span>\\n\\t\\t<div class=\\\"info\\\"><h5>\").concat(place.aptName, \"</h5> <button>\\uAD00\\uC2EC\\uB4F1\\uB85D</button>\\n\\t\\t<span>\").concat(place.sidoName, \" \").concat(place.gugunName, \" \").concat(place.dongName, \" \").concat(place.jibun, \"</span>\\n\\t\");\n      el.innerHTML = itemStr;\n      el.className = \"item\";\n      return el;\n    },\n    displayInfowindow: function displayInfowindow(marker, title, place) {\n      var content = \"\\n\\t\\t<div class=\\\"overlaybox\\\">\\n\\t\\t\\t<div class=\\\"boxtitle\\\">\".concat(title, \"</div>\\n\\t\\t\\t<div class=\\\"first\\\"><img src=\\\"/img/apt.png\\\" style=\\\"width:247px; height:136px;\\\" alt=\\\"\\\"></div>\\n\\t\\t\\t<ul>\\n\\t\\t\\t\\t<li class=\\\"up\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"title\\\">\\uC774\\uB984</span>\\n\\t\\t\\t\\t\\t<span class=\\\"count\\\">\").concat(place.buildYear, \"</span>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<span class=\\\"title\\\">\\uC8FC\\uC18C</span>\\n\\t\\t\\t\\t\\t<span class=\\\"count\\\">\").concat(place.roadAddress, \"</span>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<span class=\\\"title\\\">\\uCD5C\\uC2E0\\uAC70\\uB798\\uAE08\\uC561</span>\\n\\t\\t\\t\\t\\t<span class=\\\"count\\\">\").concat(place.recentPrice, \"</span>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<span class=\\\"last\\\" id=\\\"recenthistor\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal\\\">\\uC544\\uD30C\\uD2B8\\uC815\\uBCF4 update</span>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\");\n      var position = new kakao.maps.LatLng(marker.getPosition().getLat() + 0.00033, marker.getPosition().getLng() - 0.00003);\n      this.customOverlay = new kakao.maps.CustomOverlay({\n        position: position,\n        content: content,\n        xAnchor: 0.3,\n        yAnchor: 0.91\n      });\n      this.customOverlay.setMap(this.map);\n    },\n    removeAllChildNods: function removeAllChildNods(el) {\n      while (el.hasChildNodes()) {\n        el.removeChild(el.lastChild);\n      }\n    }\n  })\n};","map":{"version":3,"mappings":"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","names":["name","components","HouseList","data","sidoCode","gugunCode","dongCode","markers","map","ps","infowindow","customOverlay","geocoder","mounted","script","document","computed","mapState","created","methods","mapActions","mapMutations","gugunList","console","dongList","searchApt","initMap","center","level","zIndex","displayMarkers","places","fragment","bounds","listStr","self","placePosition","marker","itemEl","kakao","addMarker","position","idx","title","imageSize","imgOptions","spriteSize","spriteOrigin","offset","markerImage","imageSrc","image","removeMarker","getListItem","index","place","el","displayInfowindow","content","xAnchor","yAnchor","removeAllChildNods"],"sourceRoot":"src/components/house","sources":["HouseSearchBar.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"container-fluid\">\n      <section id=\"index_section\">\n        <div class=\"col-sm-12\" style=\"min-height: 850px\">\n          <div class=\"card-body row\">\n            <div class=\"row\">\n              <div\n                class=\"form-group form-inline justify-content-center col-sm-2\"\n              >\n                <b-row class=\"mt-2 mb-2 text-center\">\n                  <div class=\"col-sm-4\">\n                    <select\n                      class=\"form-select\"\n                      aria-label=\"Default select example\"\n                    >\n                      <option selected value=\"shopName\">상호 명</option>\n                      <option value=\"shopKind\">업종</option>\n                      <option value=\"roadAddress\">도로명</option>\n                    </select>\n                  </div>\n                  <div class=\"col-sm-5\">\n                    <input\n                      class=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"Search\"\n                    />\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-primary col-sm-3\"\n                  >\n                    검색\n                  </button>\n                </b-row>\n              </div>\n              <div\n                class=\"form-group form-inline justify-content-center col-sm-10\"\n              >\n                <div class=\"mt-2 mb-2 text-center row\">\n                  <div class=\"col-sm-1\">\n                    <b-form-select\n                      class=\"form-select\"\n                      v-model=\"sidoCode\"\n                      :options=\"sidos\"\n                      @change=\"gugunList\"\n                    ></b-form-select>\n                  </div>\n                  <div class=\"col-sm-1\">\n                    <b-form-select\n                      class=\"form-select\"\n                      v-model=\"gugunCode\"\n                      :options=\"guguns\"\n                      @change=\"dongList\"\n                    ></b-form-select>\n                  </div>\n                  <div class=\"col-sm-1\">\n                    <b-form-select\n                      class=\"form-select\"\n                      v-model=\"dongCode\"\n                      :options=\"dongs\"\n                      @change=\"searchApt\"\n                    ></b-form-select>\n                  </div>\n                  <div class=\"col-sm-2\">\n                    <button type=\"button\" class=\"btn btn-outline-primary\">\n                      최적경로탐색\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <hr />\n            <div class=\"form-group form-inline justify-content-center col-sm-2\">\n              <div style=\"height: 1000px; overflow: auto\">\n                <house-list />\n              </div>\n            </div>\n            <div\n              class=\"form-group form-inline justify-content-center col-sm-10\"\n            >\n              <div id=\"map\" style=\"width: 100%; height: 1000px\"></div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport HouseList from \"@/components/house/HouseList.vue\";\n//import HouseDetail from \"@/components/house/HouseDetail.vue\";\nexport default {\n  name: \"HouseSearchBar\",\n  components: {\n    HouseList,\n    // HouseDetail,\n  },\n  data() {\n    return {\n      sidoCode: null,\n      gugunCode: null,\n      dongCode: null,\n      markers: [],\n      map: null,\n      ps: null,\n      infowindow: null,\n      customOverlay: null,\n      geocoder: null,\n    };\n  },\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.initMap();\n    } else {\n      const script = document.createElement(\"script\");\n      /* global kakao */\n      script.onload = () => kakao.maps.load(this.initMap);\n      script.src =\n        \"http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=034dcc5ce4d542a740e6d5514a14db3e&libraries=services\";\n      document.head.appendChild(script);\n    }\n  },\n  computed: {\n    ...mapState([\"sidos\", \"guguns\", \"houses\", \"dongs\"]),\n    // sidos() {\n    //   return this.$store.state.sidos;\n    // },\n  },\n  created() {\n    // this.$store.dispatch(\"getSido\");\n    // this.sidoList();\n    this.CLEAR_SIDO_LIST();\n    this.getSido();\n  },\n  methods: {\n    ...mapActions([\"getSido\", \"getGugun\", \"getDong\", \"getHouseList\"]),\n    ...mapMutations([\"CLEAR_SIDO_LIST\", \"CLEAR_GUGUN_LIST\", \"CLEAR_DONG_LIST\"]),\n    // sidoList() {\n    //   this.getSido();\n    // },\n    gugunList() {\n      console.log(this.sidoCode);\n      this.CLEAR_GUGUN_LIST();\n      this.gugunCode = null;\n      if (this.sidoCode) this.getGugun(this.sidoCode);\n    },\n    dongList() {\n      console.log(this.gugunCode, \"??\");\n      this.CLEAR_DONG_LIST();\n      console.log(this.gugunCode, \"??\");\n      this.dongCode = null;\n      if (this.gugunCode) {\n        this.getDong(this.gugunCode);\n      }\n    },\n    async searchApt() {\n      if (this.dongCode) {\n        await this.getHouseList(this.dongCode);\n        console.log(\"왜늦지\");\n        this.displayMarkers(this.$store.getters.getAptList);\n      }\n    },\n    initMap() {\n      // 마커를 담을 배열입니다\n      //var markers = [];\n\n      var mapContainer = document.getElementById(\"map\"); // 지도를 표시할 div\n      var mapOption = {\n        center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표\n        level: 3, // 지도의 확대 레벨\n      };\n\n      // 지도를 생성합니다\n      this.map = new kakao.maps.Map(mapContainer, mapOption);\n\n      // 장소 검색 객체를 생성합니다\n      this.ps = new kakao.maps.services.Places();\n\n      // 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성합니다\n      this.infowindow = new kakao.maps.InfoWindow({ zIndex: 1 });\n      // 커스텀 오버레이를 생성합니다\n      this.customOverlay;\n      //주소-좌표 변환 객체를 생성합니다\n      this.geocoder = new kakao.maps.services.Geocoder();\n    },\n    async displayMarkers(places) {\n      var fragment = document.createDocumentFragment();\n      var bounds = new kakao.maps.LatLngBounds();\n      var listStr = \"\";\n      //console.log(places.length);\n      // 지도에 표시되고 있는 마커를 제거합니다\n      this.removeMarker();\n      var self = this;\n      for (var i = 0; i < places.length; i++) {\n        var placePosition = new kakao.maps.LatLng(places[i].lat, places[i].lng);\n        var marker = this.addMarker(placePosition, i);\n        var itemEl = this.getListItem(i, places[i]); // 검색 결과 항목 Element를 생성합니다\n        //console.log(i);\n        // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n        // LatLngBounds 객체에 좌표를 추가합니다\n        bounds.extend(placePosition);\n        // 마커와 검색결과 항목에 mouseover 했을때\n        // 해당 장소에 인포윈도우에 장소명을 표시합니다\n        // mouseout 했을 때는 인포윈도우를 닫습니다\n        (function (marker, title, code, place, map) {\n          kakao.maps.event.addListener(marker, \"click\", function () {\n            self.displayInfowindow(marker, title, place);\n          });\n\n          kakao.maps.event.addListener(map, \"click\", function () {\n            console.log(self.customOverlay);\n            self.customOverlay.setMap(null);\n          });\n\n          itemEl.onmouseover = function () {\n            self.displayInfowindow(marker, title);\n          };\n\n          itemEl.onmouseout = function () {\n            self.customOverlay.setMap(null);\n          };\n        })(marker, places[i].shopName, places[i].shopKind, places[i], this.map);\n\n        fragment.appendChild(itemEl);\n      }\n      // 마커를 생성하고 지도에 표시합니다\n\n      // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n      this.map.setBounds(bounds);\n    },\n    addMarker(position, idx, title) {\n      var imageSrc =\n          \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png\", // 마커 이미지 url, 스프라이트 이미지를 씁니다\n        imageSize = new kakao.maps.Size(36, 37), // 마커 이미지의 크기\n        imgOptions = {\n          spriteSize: new kakao.maps.Size(36, 691), // 스프라이트 이미지의 크기\n          spriteOrigin: new kakao.maps.Point(0, idx * 46 + 10), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n          offset: new kakao.maps.Point(13, 37), // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n        },\n        markerImage = new kakao.maps.MarkerImage(\n          imageSrc,\n          imageSize,\n          imgOptions\n        ),\n        marker = new kakao.maps.Marker({\n          position: position, // 마커의 위치\n          image: markerImage,\n        });\n\n      marker.setMap(this.map); // 지도 위에 마커를 표출합니다\n      this.markers.push(marker); // 배열에 생성된 마커를 추가합니다\n\n      return marker;\n    },\n    removeMarker() {\n      for (var i = 0; i < this.markers.length; i++) {\n        this.markers[i].setMap(null);\n      }\n      this.markers = [];\n    },\n\n    getListItem(index, place) {\n      var el = document.createElement(\"li\");\n      var itemStr = `\n\t\t<span class=\"markerbg marker_${index + 1}></span>\n\t\t<div class=\"info\"><h5>${place.aptName}</h5> <button>관심등록</button>\n\t\t<span>${place.sidoName} ${place.gugunName} ${place.dongName} ${\n        place.jibun\n      }</span>\n\t`;\n      el.innerHTML = itemStr;\n      el.className = \"item\";\n\n      return el;\n    },\n\n    displayInfowindow(marker, title, place) {\n      var content = `\n\t\t<div class=\"overlaybox\">\n\t\t\t<div class=\"boxtitle\">${title}</div>\n\t\t\t<div class=\"first\"><img src=\"/img/apt.png\" style=\"width:247px; height:136px;\" alt=\"\"></div>\n\t\t\t<ul>\n\t\t\t\t<li class=\"up\">\n\t\t\t\t\t<span class=\"title\">이름</span>\n\t\t\t\t\t<span class=\"count\">${place.buildYear}</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"title\">주소</span>\n\t\t\t\t\t<span class=\"count\">${place.roadAddress}</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"title\">최신거래금액</span>\n\t\t\t\t\t<span class=\"count\">${place.recentPrice}</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"last\" id=\"recenthistor\" data-toggle=\"modal\" data-target=\"#myModal\">아파트정보 update</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t`;\n      var position = new kakao.maps.LatLng(\n        marker.getPosition().getLat() + 0.00033,\n        marker.getPosition().getLng() - 0.00003\n      );\n      this.customOverlay = new kakao.maps.CustomOverlay({\n        position: position,\n        content: content,\n        xAnchor: 0.3,\n        yAnchor: 0.91,\n      });\n      this.customOverlay.setMap(this.map);\n    },\n    removeAllChildNods(el) {\n      while (el.hasChildNodes()) {\n        el.removeChild(el.lastChild);\n      }\n    },\n  },\n};\n</script>\n\n<style>\n::-webkit-scrollbar {\n  width: 10px;\n}\n::-webkit-scrollbar-thumb {\n  background-color: #eaa636;\n  border-radius: 10px;\n  background-clip: padding-box;\n  border: 2px solid transparent;\n}\n::-webkit-scrollbar-track {\n  background-color: 1e1916;\n  border-radius: 10px;\n  box-shadow: inset 0px 0px 5px white;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}